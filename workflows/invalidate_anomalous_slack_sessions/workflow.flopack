{"type":"flopack","version":"1.3.0","created":"2023-02-21T22:54:24.484Z","flags":{"auto-transform":true,"looseBooleans":true,"looseStrings":true,"looseNulls":true},"data":{"flos":{"3784665f-8403-4176-946d-844579fc314c":{"id":"3784665f-8403-4176-946d-844579fc314c","name":"1.1 - Error Handling Helper Flow","description":"This optional error handling flow can be used to notify admins in Slack when an API call fails.","data":{"id":null,"uuid":"3784665f-8403-4176-946d-844579fc314c","display":{"preview":[{"module":"control","name":"callable","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"httpfunctions","name":"post","kernel":false},{"module":"object","name":"construct","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"object","name":"expand","kernel":true},{"module":"object","name":"expand","kernel":true}],"isCallable":true},"tree":{"id":2,"name":"empty","description":"This flow has been build w/o a tree and uses the newer, async, Addressing module."},"methods":[{"joins":{},"address":"root:kernel:control:0.0.1:callable","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"OKGCtT7Si","branches":{},"node":{"key":"callable","data":{"name":"Helper Flow"},"model":{"type":"method","_v":2,"key":"callable","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":true,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Helper Flow","description":"Start a Flow that executes on-demand, i.e. called by another Flow or via the Invoke API."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"groupRules":{"body":{"type":"object","reserved":{},"extensible":true},"headers":{"type":"object","reserved":{"Content-Type":"string"},"extensible":true},"query":{"type":"object","reserved":{},"extensible":true}},"data":{"NGZkzdoU-D":{"id":"NGZkzdoU-D","group":"context","key":"index","value":{"error":false,"type":"number","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Index","index":0},"required":false,"flags":"d"},"GxUj5atvOu":{"id":"GxUj5atvOu","group":"context","key":"parent","value":{"error":false,"type":{"id":{"type":"string","collection":false},"method":{"type":"string","collection":false},"name":{"type":"string","collection":false},"execution_id":{"type":"string","collection":false}},"collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Caller","collapsed":false,"index":1},"required":false,"flags":"d","_used":true},"IFkGUfSZK2":{"id":"IFkGUfSZK2","group":"context","key":"error","value":{"error":false,"type":{"message":{"type":"string","collection":false},"method":{"type":"string","collection":false},"flo":{"type":"number","collection":false},"execution":{"type":"string","collection":false}},"collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Error","collapsed":false,"index":2},"required":false,"flags":"d","_used":true},"Ldj9eyUhJi":{"id":"Ldj9eyUhJi","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":3},"required":false,"flags":"d"},"BR1tIrpxyp":{"id":"BR1tIrpxyp","group":null,"key":"object","value":{"error":false,"type":"object","collection":false,"data":{},"available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"ref":false,"metadata":{"index":4,"custom":true},"required":false,"flags":"d","_used":true}}},"outputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"data":{"5LzCn6lJLd":{"id":"5LzCn6lJLd","group":"context","key":"index","value":{"error":false,"type":"number","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Index","index":0}},"H_ubNgOAK9":{"id":"H_ubNgOAK9","group":"context","key":"parent","value":{"error":false,"type":{"id":{"type":"string","collection":false},"method":{"type":"string","collection":false},"name":{"type":"string","collection":false},"execution_id":{"type":"string","collection":false}},"collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Caller","collapsed":false,"index":1},"_used":true},"7siF4P2ZCF":{"id":"7siF4P2ZCF","group":"context","key":"error","value":{"error":false,"type":{"message":{"type":"string","collection":false},"method":{"type":"string","collection":false},"flo":{"type":"number","collection":false},"execution":{"type":"string","collection":false}},"collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Error","collapsed":false,"index":2},"_used":true},"RqLFWKDxdC":{"id":"RqLFWKDxdC","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":3}},"c8U1ezDxf":{"id":"c8U1ezDxf","group":null,"key":"object","value":{"error":false,"type":"object","collection":false,"data":{},"available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"ref":false,"metadata":{"index":4,"custom":true},"_used":true}},"groupRules":{"context":{"extensible":false}}},"runtime":{}}},"pins":{"H_ubNgOAK9":{"fm9qgYLrc1":[{"input":"cKvWAeIsNg","transform":null}]},"7siF4P2ZCF":{"HmMU7KpVcfd":[{"input":"sLfSK70sV9R","transform":null}]}}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"lTZn4tsaU","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"VrLnlZBc5e":{"id":"VrLnlZBc5e","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"{ \"channel\": \"{{{qh1EdHvr6}}}\", \"text\": \"*ERROR* in workflow execution of ` {{{i99Xd-EC6}}}`\n>Execution ID: `{{{b8eudqR94}}}`\n>Message: `{{{QCFmROyMQ}}}`\"}","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"YJIy1ZWPzj":{"id":"YJIy1ZWPzj","group":null,"key":"i99Xd-EC6","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"},"3KF_uYO_mj":{"id":"3KF_uYO_mj","group":null,"key":"b8eudqR94","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"},"JzxS_B3P5v":{"id":"JzxS_B3P5v","group":null,"key":"QCFmROyMQ","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"},"0I1V8HkUwp":{"id":"0I1V8HkUwp","group":null,"key":"qh1EdHvr6","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":4},"flags":"d"}}},"outputs":{"extensible":false,"data":{"4IQiACGgn7":{"id":"4IQiACGgn7","group":null,"key":"output","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"index":0},"_used":true}}},"runtime":{}}},"pins":{"4IQiACGgn7":{"yYKTV1VAc":[{"input":"0kMFv_pPW7","transform":null}]}}},{"joins":{},"address":"root:channels:http:httpfunctions:1.0.16:post","parents":{"version":{"address":"root:channels:http:httpfunctions:1.0.16","key":"1.0.16","data":{"name":"1.0.16","id":714}},"channel":{"address":"root:channels:http:httpfunctions","key":"httpfunctions","data":{"name":"httpfunctions","id":72}}},"uuid":"yYKTV1VAc","branches":{},"node":{"key":"post","data":{"name":"Post"},"model":{"type":"method","_v":2,"key":"post","executable":true,"displayed":true,"async":true,"cooperative":false,"mirrored":false,"compat":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":32595,"name":"Post","description":null},"meta":{},"config":null,"partnerChannelKeys":226,"inputs":{"extensible":false,"rules":{},"groupRules":{"Request":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"ji_DCKRiev":{"id":"ji_DCKRiev","group":"Request","key":"URL","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"https://slack.com/api/chat.postMessage","available":["string"]},"required":false,"ref":false,"metadata":{"index":0,"optional":false},"flags":"d"},"zEpaW2yQ0m":{"id":"zEpaW2yQ0m","group":"Request","key":"Query","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["string","object"]},"required":false,"ref":false,"metadata":{"index":1,"optional":false},"flags":"d"},"AP95lzJOMu":{"id":"AP95lzJOMu","group":"Request","key":"Headers","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":2,"optional":false},"flags":"d"},"0kMFv_pPW7":{"id":"0kMFv_pPW7","group":"Request","key":"Body","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string","object","Array"]},"required":false,"ref":false,"metadata":{"index":3,"optional":false},"flags":"d"}}},"outputs":{"extensible":false,"rules":{},"groupRules":{"Response":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"7l8V4O7o2z":{"id":"7l8V4O7o2z","group":"Response","key":"Status Code","value":{"error":false,"type":"number","collection":false,"data":0,"available":["number"]},"ref":false,"metadata":{"index":0}},"G73ph_7hpw":{"id":"G73ph_7hpw","group":"Response","key":"Headers","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":1}},"SwZvoDUQFH":{"id":"SwZvoDUQFH","group":"Response","key":"Body","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":2}}}},"runtime":{},"display":{"configRef":"3075b418-02ed-4e44-9fea-e2aec7e39abd"},"comments":"Perform an HTTP POST request, returning the result of this request and the response headers.","enableNewMetadata":true}},"pins":{}},{"joins":{},"address":"root:kernel:object:0.0.1:construct","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"lT-dcP48u","branches":{},"node":{"key":"construct","data":{"name":"Construct"},"model":{"type":"method","_v":2,"key":"construct","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Construct","description":"Create an object from multiple inputs."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"data":{}},"outputs":{"extensible":false,"data":{"RV-2rzv9m5":{"id":"RV-2rzv9m5","group":null,"key":"output","value":{"type":"object","collection":false,"data":{}},"ref":false,"metadata":{"index":0},"_used":true}}},"runtime":{}}},"pins":{"RV-2rzv9m5":{"lTZn4tsaU":[{"input":"0I1V8HkUwp","transform":{"RV-2rzv9m5":{"convert":"stringify","forceWrapArray":false,"dest":"RV-2rzv9m5"}}}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"XUKUvKhdd","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Insert Slack Channel ID","markdown":""}}},"pins":{}},{"joins":{},"address":"root:kernel:object:0.0.1:expand","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"fm9qgYLrc1","branches":{},"node":{"key":"expand","data":{"name":"OKGCtT7Si"},"model":{"type":"method","_v":2,"key":"expand","executable":false,"displayed":false,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"OKGCtT7Si","description":"Pick a set of keys out of an object with lists of keys."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"cKvWAeIsNg":{"id":"cKvWAeIsNg","group":null,"key":"object","value":{"type":{"id":{"type":"string","collection":false},"method":{"type":"string","collection":false},"name":{"type":"string","collection":false},"execution_id":{"type":"string","collection":false}},"collection":false,"data":{},"available":[],"error":false},"required":true,"ref":false,"metadata":{"srcMethodId":"OKGCtT7Si","srcOutputId":"H_ubNgOAK9"},"flags":"d"}}},"outputs":{"extensible":true,"groupRules":{"*":{"type":"object","reserved":{"key":{"types":["string"],"collection":"*"},"value":{"types":["*"],"collection":"*"}},"extensible":false}},"data":{"sLW5tS-sUJ":{"id":"sLW5tS-sUJ","group":"jNJJ_Ixa3P","key":"key","value":{"error":false,"type":"string","collection":true,"data":["name"],"available":[]},"ref":true,"metadata":{"path":["name"],"srcMethodId":"OKGCtT7Si","srcOutputId":"H_ubNgOAK9"}},"q9YKJik7EP":{"id":"q9YKJik7EP","group":"jNJJ_Ixa3P","key":"value","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["name"],"srcMethodId":"OKGCtT7Si","srcOutputId":"H_ubNgOAK9"},"_used":true},"3IhbPnLsoZ":{"id":"3IhbPnLsoZ","group":"ZrR4JaNyIR","key":"key","value":{"error":false,"type":"string","collection":true,"data":["execution_id"],"available":[]},"ref":true,"metadata":{"path":["execution_id"],"srcMethodId":"OKGCtT7Si","srcOutputId":"H_ubNgOAK9"}},"fT5kA5NQE5":{"id":"fT5kA5NQE5","group":"ZrR4JaNyIR","key":"value","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["execution_id"],"srcMethodId":"OKGCtT7Si","srcOutputId":"H_ubNgOAK9"},"_used":true}}},"runtime":{}}},"pins":{"q9YKJik7EP":{"lTZn4tsaU":[{"input":"YJIy1ZWPzj","transform":null}]},"fT5kA5NQE5":{"lTZn4tsaU":[{"input":"3KF_uYO_mj","transform":null}]}}},{"joins":{},"address":"root:kernel:object:0.0.1:expand","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"HmMU7KpVcfd","branches":{},"node":{"key":"expand","data":{"name":"OKGCtT7Si"},"model":{"type":"method","_v":2,"key":"expand","executable":false,"displayed":false,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"OKGCtT7Si","description":"Pick a set of keys out of an object with lists of keys."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"sLfSK70sV9R":{"id":"sLfSK70sV9R","group":null,"key":"object","value":{"type":{"message":{"type":"string","collection":false},"method":{"type":"string","collection":false},"flo":{"type":"number","collection":false},"execution":{"type":"string","collection":false}},"collection":false,"data":{},"available":[],"error":false},"required":true,"ref":false,"metadata":{"srcMethodId":"OKGCtT7Si","srcOutputId":"7siF4P2ZCF"},"flags":"d"}}},"outputs":{"extensible":true,"groupRules":{"*":{"type":"object","reserved":{"key":{"types":["string"],"collection":"*"},"value":{"types":["*"],"collection":"*"}},"extensible":false}},"data":{"a2PRtmCRiqn":{"id":"a2PRtmCRiqn","group":"CMUb9Ffb4m3","key":"key","value":{"error":false,"type":"string","collection":true,"data":["message"],"available":[]},"ref":true,"metadata":{"path":["message"],"srcMethodId":"OKGCtT7Si","srcOutputId":"7siF4P2ZCF"}},"UmnbHtOOFil":{"id":"UmnbHtOOFil","group":"CMUb9Ffb4m3","key":"value","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["message"],"srcMethodId":"OKGCtT7Si","srcOutputId":"7siF4P2ZCF"},"_used":true}}},"runtime":{}}},"pins":{"UmnbHtOOFil":{"lTZn4tsaU":[{"input":"JzxS_B3P5v","transform":null}]}}}],"model":{},"orderings":{"qkwW5SrOF":["OKGCtT7Si","XUKUvKhdd"],"OSXVteLKuV":["XUKUvKhdd","lT-dcP48u"],"BbCnT4V3tw":["lT-dcP48u","lTZn4tsaU"],"Rirk2xS_vl":["lTZn4tsaU","yYKTV1VAc"],"Rgj_XzEQ5A":["OKGCtT7Si","fm9qgYLrc1"],"6iOXr2j8jc":["fm9qgYLrc1","XUKUvKhdd"],"BSNPC7hqcR":["fm9qgYLrc1","fm9qgYLrc1"],"9TUoUcjrkS":["fm9qgYLrc1","XUKUvKhdd"],"EuV2nWdWv-F":["fm9qgYLrc1","fm9qgYLrc1"],"56ADNzDwFkT":["OKGCtT7Si","HmMU7KpVcfd"],"83h0aM22CuZ":["HmMU7KpVcfd","XUKUvKhdd"],"uCTrVifftLT":["HmMU7KpVcfd","fm9qgYLrc1"],"1qhFBYMuw3l":["HmMU7KpVcfd","HmMU7KpVcfd"]},"cron":{},"security_level":null,"log":true,"inheritLog":true,"scheduled":false,"group":"3c59e596-ec47-4299-ac14-587168dd34d9","templateName":null,"connector_method_meta":{"inputs":{},"outputs":{},"options":{}},"monitor_flo":false}},"b8c54ece-e4c2-4ee8-9d5e-0f962107b7de":{"id":"b8c54ece-e4c2-4ee8-9d5e-0f962107b7de","name":"1.0 Invalidate Anomalous Slack Sessions","description":"This workflow periodically checks the Slack Risk Audit API for anomalous events, filters through the results for events of specific security interest, invalidates the Slack session associated with an anomalous event and notifies the organizationâ€™s security team of the action, such that they can investigate whether the user was a victim of an account takeover and perform further response actions. ","data":{"id":null,"uuid":"b8c54ece-e4c2-4ee8-9d5e-0f962107b7de","display":{"preview":[{"module":"control","name":"callable","kernel":true},{"module":"httpfunctions","name":"get","kernel":false},{"module":"date","name":"epoch","kernel":true},{"module":"date","name":"subtract","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"list","name":"join","kernel":true},{"module":"list","name":"pluck","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"list","name":"join","kernel":true},{"module":"list","name":"filterBy","kernel":true},{"module":"control","name":"continueIf","kernel":true},{"module":"list","name":"filterBy","kernel":true},{"module":"list","name":"union","kernel":true},{"module":"list","name":"union","kernel":true},{"module":"httpfunctions","name":"post","kernel":false},{"module":"control","name":"throwIf","kernel":true},{"module":"control","name":"throwIf","kernel":true},{"module":"httpfunctions","name":"post","kernel":false},{"module":"list","name":"filterBy","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"object","name":"construct","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"control","name":"comment","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"httpfunctions","name":"","kernel":true},{"module":"httpfunctions","name":"","kernel":true}],"isCallable":true},"tree":{"id":2,"name":"empty","description":"This flow has been build w/o a tree and uses the newer, async, Addressing module."},"methods":[{"joins":{},"address":"root:kernel:control:0.0.1:callable","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"74bPGud3b","branches":{},"node":{"key":"callable","data":{"name":"Scheduled Flow"},"model":{"type":"method","_v":2,"key":"callable","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":true,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Scheduled Flow","description":"Start a Flow that executes on-demand, i.e. called by another Flow or via the Invoke API."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"groupRules":{"body":{"type":"object","reserved":{},"extensible":true},"headers":{"type":"object","reserved":{"Content-Type":"string"},"extensible":true},"query":{"type":"object","reserved":{},"extensible":true}},"data":{"QQU-284QYs":{"id":"QQU-284QYs","group":"context","key":"execution_time","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Current Time ","index":0},"required":false,"flags":"d","_used":true},"ZJE3Qq3Cbm":{"id":"ZJE3Qq3Cbm","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":1},"required":false,"flags":"d"}}},"outputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"data":{"c_CYwlnm0":{"id":"c_CYwlnm0","group":"context","key":"execution_time","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Current Time ","index":0},"_used":true},"i3Uu0umcVg":{"id":"i3Uu0umcVg","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":1}}},"groupRules":{"context":{"extensible":false},"null":{"extensible":false}}},"runtime":{}}},"pins":{"c_CYwlnm0":{"B_4HssIaq":[{"input":"Obgb6YkMAP","transform":{"c_CYwlnm0":{"convert":"dateTime","forceWrapArray":false,"dest":"c_CYwlnm0"}}}]}}},{"joins":{},"address":"root:channels:http:httpfunctions:1.0.16:get","parents":{"version":{"address":"root:channels:http:httpfunctions:1.0.16","key":"1.0.16","data":{"name":"1.0.16","id":714}},"channel":{"address":"root:channels:http:httpfunctions","key":"httpfunctions","data":{"name":"httpfunctions","id":72}}},"uuid":"zB4jB2p3e","branches":{},"node":{"key":"get","data":{"name":"Get"},"model":{"type":"method","_v":2,"key":"get","executable":true,"displayed":true,"async":true,"cooperative":false,"mirrored":false,"compat":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"flo","delay":60000,"retry":0,"retryCondition":"ratelimits","flo":"3784665f-8403-4176-946d-844579fc314c"}},"metadata":{"id":32594,"name":"Get","description":null},"meta":{},"config":"291eea2c-913d-4e89-a7ce-b271c1878855","partnerChannelKeys":226,"inputs":{"extensible":false,"rules":{},"groupRules":{"Request":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"gG018M90Qc":{"id":"gG018M90Qc","group":"Request","key":"URL","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":0,"optional":false,"ghost":{"displayChannelName":"string","displayName":"slackAuditSearchEndpoint","id":"sj3e7mwtsN@"}},"flags":"d"},"6dNPj0zr4S":{"id":"6dNPj0zr4S","group":"Request","key":"Query","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["string","object"]},"required":false,"ref":false,"metadata":{"index":1,"optional":false},"flags":"d"},"Lw6Wk298gU":{"id":"Lw6Wk298gU","group":"Request","key":"Headers","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":2,"optional":false},"flags":"d"},"aIYm85lt-":{"id":"aIYm85lt-","group":null,"key":"object","value":{"error":true,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":3,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"rules":{},"groupRules":{"Response":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"JZ_a7whLAH":{"id":"JZ_a7whLAH","group":"Response","key":"Status Code","value":{"error":false,"type":"number","collection":false,"data":0,"available":["number"]},"ref":false,"metadata":{"index":0}},"Znlu3vQ05E":{"id":"Znlu3vQ05E","group":"Response","key":"Headers","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":1}},"h-Ahdm6H3h":{"id":"h-Ahdm6H3h","group":"Response","key":"Body","value":{"error":false,"type":{"ok":{"type":"boolean","collection":false},"error":{"type":"string","collection":false},"entries":{"type":"object","collection":true}},"collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":2},"_used":true}}},"runtime":{},"display":{"configRef":"6dbb51ac-6637-4547-ba2b-0e1e57f97962"},"comments":"Perform an HTTP GET request to the Slack Audit API looking for anomaly events","enableNewMetadata":true}},"pins":{"h-Ahdm6H3h":{"BxGCaGYO4wW":[{"input":"PW_n5gzHfZO","transform":null}]}}},{"joins":{},"address":"root:kernel:date:0.0.1:epoch","parents":{"version":{"address":"root:kernel:date:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:date","key":"date","data":{"name":"date"}}},"uuid":"epJPvsJpw","branches":{},"node":{"key":"epoch","data":{"name":"EPOCH"},"model":{"type":"method","_v":2,"key":"epoch","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"EPOCH","description":"Generate the UNIX Epoch format for a date & time."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"MlFPhedmUu":{"id":"MlFPhedmUu","group":null,"key":"start","value":{"type":"Date","collection":false,"data":"","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"}}},"outputs":{"extensible":false,"data":{"d5iWEPcUrn":{"id":"d5iWEPcUrn","group":null,"key":"output","value":{"type":"number","collection":false,"data":0,"available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"earliestTimeEpoch"},"_used":true}}},"runtime":{},"comments":"Convert the subtracted time to EPOCH to use in the URL parameters for the Slack Audit API"}},"pins":{"d5iWEPcUrn":{"A__qtcbhJ":[{"input":"7mZgew38ji","transform":{"d5iWEPcUrn":{"convert":"toString","forceWrapArray":false,"dest":"d5iWEPcUrn"}}}]}}},{"joins":{},"address":"root:kernel:date:0.0.1:subtract","parents":{"version":{"address":"root:kernel:date:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:date","key":"date","data":{"name":"date"}}},"uuid":"B_4HssIaq","branches":{},"node":{"key":"subtract","data":{"name":"Subtract"},"model":{"type":"method","_v":2,"key":"subtract","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Subtract","description":"Subtract a multiple of a unit of time (e.g. seconds) from a starting date & time."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"Obgb6YkMAP":{"id":"Obgb6YkMAP","group":null,"key":"start","value":{"type":"Date","collection":false,"data":"","available":[],"error":false},"required":true,"ref":false,"metadata":{"displayname":"start date","index":0},"flags":"d"},"xYJ87PS8b2":{"id":"xYJ87PS8b2","group":null,"key":"scale","value":{"type":"number","collection":false,"data":15,"available":[],"error":false},"required":true,"ref":false,"metadata":{"displayname":"subtract","index":1},"flags":"d"},"oz66xEBp01":{"id":"oz66xEBp01","group":null,"key":"unit","value":{"type":"string","collection":false,"data":"minutes","available":[],"error":false},"required":true,"ref":false,"metadata":{"choices":["milliseconds","seconds","minutes","hours","days","weeks","months","years"],"displayname":"units","index":2},"flags":"d"}}},"outputs":{"extensible":false,"data":{"PT-bPaJVs3":{"id":"PT-bPaJVs3","group":null,"key":"output","value":{"type":"Date","collection":false,"data":null,"available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"earliestTime"},"_used":true}}},"runtime":{},"comments":"Subtract the interval from current time"}},"pins":{"PT-bPaJVs3":{"epJPvsJpw":[{"input":"MlFPhedmUu","transform":null}]}}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"MH4XLxp35","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish","delay":[60000,180000],"retry":0,"retryCondition":"ratelimits"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"-IyWDa_0Aa":{"id":"-IyWDa_0Aa","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"{\"user_ids\": [\"{{{6mzzjsvM1N}}}\"]}","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"DwC1568Emp":{"id":"DwC1568Emp","group":null,"key":"6mzzjsvM1N","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"}}},"outputs":{"extensible":false,"data":{"hzgtCKZRd5":{"id":"hzgtCKZRd5","group":null,"key":"output","value":{"type":"string","collection":false,"data":"","available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"slackPostBodyAnomalousUsers"},"_used":true}}},"runtime":{},"comments":"Generate the body of the POST request to send to Slack"}},"pins":{"hzgtCKZRd5":{"uy-GEVSYl":[{"input":"hmqbO4cRuY","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:join","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"e2kgBsdgz","branches":{},"node":{"key":"join","data":{"name":"List to text"},"model":{"type":"method","_v":2,"key":"join","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"List to text","description":"Join the values of a list into a single text output separated by an optional delimiter, such as a comma."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["number","string","boolean","Date"],"collection":true}},"data":{"IR5AwrX9Ri":{"id":"IR5AwrX9Ri","group":null,"key":"list","value":{"type":"string","collection":true,"data":[],"available":["number","string","boolean","Date"],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"Ai3J2Lj17l":{"id":"Ai3J2Lj17l","group":null,"key":"delimiter","value":{"type":"string","collection":false,"data":"\",\"","available":[],"error":false},"required":false,"ref":false,"metadata":{"displayname":"separator","index":1},"flags":"d"}}},"outputs":{"extensible":false,"data":{"u-LT74vGvV":{"id":"u-LT74vGvV","group":null,"key":"string","value":{"type":"string","collection":false,"data":null,"available":[],"error":false},"ref":false,"metadata":{"displayname":"slackApiAnomalousUsers","index":0,"description":""},"_used":true}}},"runtime":{},"comments":"Join list to text separated by \",\" so we can wrap it with [\" $_ \"] to create the string required by the bulk reset API endpoint "}},"pins":{"u-LT74vGvV":{"MH4XLxp35":[{"input":"DwC1568Emp","transform":null}],"9NkO2krcK":[{"input":"tjgxfNN_TK","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:pluck","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"yePxbFid3","branches":{},"node":{"key":"pluck","data":{"name":"Pluck"},"model":{"type":"method","_v":2,"key":"pluck","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Pluck","description":"Given a list of objects, create a new list using only a specified portion from each object."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["object"],"collection":true}},"data":{"H8JlYd7JQz":{"id":"H8JlYd7JQz","group":null,"key":"list","value":{"type":"object","collection":true,"data":[],"available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0,"ghost":{"displayChannelName":"list","displayName":"List No Duplicates","id":"-R0rroplb2@"}},"flags":"d"},"2BDH8bcH_0":{"id":"2BDH8bcH_0","group":null,"key":"key","value":{"type":"string","collection":false,"data":"entity.user.id","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"values":{"types":["*"],"collection":true}},"data":{"TuQKepgFZ1":{"id":"TuQKepgFZ1","group":null,"key":"values","value":{"type":"string","collection":true,"data":[],"available":["*"],"error":false},"ref":true,"metadata":{"index":0,"description":"","displayname":"anomalousUser"},"_used":true}}},"runtime":{},"comments":"Get IDs from the merged, filtered list to process"}},"pins":{"TuQKepgFZ1":{"fJQRWPe4m":[{"input":"uHO9A_ik-f","transform":null}]}}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"1YC0rTbY3","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"Ckyyif6NRy":{"id":"Ckyyif6NRy","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"{ \"channel\": \"{{{xjlXU1pcz}}}\", \"text\": \"*INFO* Slack session roaming detected.\nWorkflows reset the following users' Slack sessions after an anomaly event was detected.\n<@{{{lHGEDP0bG}}}>\"}","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"jrpZZSrBtX":{"id":"jrpZZSrBtX","group":null,"key":"lHGEDP0bG","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"},"k2x57Qv5Y1":{"id":"k2x57Qv5Y1","group":null,"key":"xjlXU1pcz","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"}}},"outputs":{"extensible":false,"data":{"vVxu16hjIe":{"id":"vVxu16hjIe","group":null,"key":"output","value":{"type":"string","collection":false,"data":"","available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"slackPostBodyMessage"},"_used":true}}},"runtime":{},"comments":"Compose the body of the Slack message we will send to admins."}},"pins":{"vVxu16hjIe":{"LaNKzlpsK":[{"input":"NNnsIjfjbE","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:join","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"7GfJ_nj6m","branches":{},"node":{"key":"join","data":{"name":"List to text"},"model":{"type":"method","_v":2,"key":"join","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"List to text","description":"Join the values of a list into a single text output separated by an optional delimiter, such as a comma."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["number","string","boolean","Date"],"collection":true}},"data":{"uaa8YzmeDW":{"id":"uaa8YzmeDW","group":null,"key":"list","value":{"type":"string","collection":true,"data":[],"available":["number","string","boolean","Date"],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"UCv69Krkkn":{"id":"UCv69Krkkn","group":null,"key":"delimiter","value":{"type":"string","collection":false,"data":">, <@","available":[],"error":false},"required":false,"ref":false,"metadata":{"displayname":"separator","index":1},"flags":"d"}}},"outputs":{"extensible":false,"data":{"Iyf7mQowiB":{"id":"Iyf7mQowiB","group":null,"key":"string","value":{"type":"string","collection":false,"data":null,"available":[],"error":false},"ref":false,"metadata":{"displayname":"slackMessageAnomalousUsers","index":0,"description":""},"_used":true}}},"runtime":{},"comments":"Link together the list of user IDs in a format that Slack will mention the users"}},"pins":{"Iyf7mQowiB":{"1YC0rTbY3":[{"input":"jrpZZSrBtX","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:filterBy","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"guIKz-VZk","branches":{},"node":{"key":"filterBy","data":{"name":"Filter"},"model":{"type":"method","_v":2,"key":"filterBy","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":300000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Filter","description":"Filter a list to include only those items that meet a specified condition."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true},"comparison":{"types":["string","number","Date","boolean","object","file"],"collection":"*"}},"data":{"RdMYJhuxZ_":{"id":"RdMYJhuxZ_","group":null,"key":"list","value":{"type":{"":{"type":"string","collection":false}},"collection":true,"data":[],"available":["*"],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"fmgRPIW92O":{"id":"fmgRPIW92O","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"==","available":[],"error":false},"required":true,"ref":false,"metadata":{"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"===","label":"equal and the same type"},{"value":"!==","label":"not equal or not the same type"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"index":1},"flags":"d"},"HPBBlujc5T":{"id":"HPBBlujc5T","group":null,"key":"path","value":{"type":"string","collection":false,"data":"details.reason","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"},"uGw3YrsFhS":{"id":"uGw3YrsFhS","group":null,"key":"comparison","value":{"type":"object","collection":true,"data":["asn","ip_address","user_agent"],"available":["string","number","Date","boolean","object","file"],"error":false},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true}},"data":{"WFhExgd1DM":{"id":"WFhExgd1DM","group":null,"key":"list","value":{"type":"object","collection":true,"data":null,"available":["*"],"error":false},"ref":true,"metadata":{"index":0,"description":"","displayname":"changedAsnIpUa"},"_used":true}}},"runtime":{},"comments":"Filter on reason #1 to match a list of objects"}},"pins":{"WFhExgd1DM":{"lW7hDNZWL":[{"input":"SBeDfMyta3","transform":null}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:continueIf","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"9NkO2krcK","branches":{},"node":{"key":"continueIf","data":{"name":"Continue if"},"model":{"type":"method","_v":2,"key":"continueIf","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Continue if","description":"Stop the Flow if a condition isn't true."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"left-operand":{"types":["object","string","number","Date","boolean"]},"right-operand":{"types":["object","string","number","Date","boolean"]}},"data":{"tjgxfNN_TK":{"id":"tjgxfNN_TK","group":null,"key":"left-operand","value":{"type":"string","collection":false,"data":"","available":["object","string","number","Date","boolean"],"error":false},"required":false,"ref":false,"metadata":{"index":0,"displayname":"value a"},"flags":"d"},"qzxrRjZ5xy":{"id":"qzxrRjZ5xy","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"is not empty","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":1,"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"displayname":"comparison"},"flags":"d"},"UL0jq5duBs":{"id":"UL0jq5duBs","group":null,"key":"right-operand","value":{"type":"string","collection":false,"data":"","available":["object","string","number","Date","boolean"]},"required":false,"ref":false,"metadata":{"index":2,"displayname":"value b"},"flags":"d"},"5EjmKwY8eV":{"id":"5EjmKwY8eV","group":"otherwise","key":"message","value":{"type":"string","collection":false,"data":null,"available":["*"]},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"}}},"outputs":{"extensible":false,"data":{"uy2S9i8GwY":{"id":"uy2S9i8GwY","group":null,"key":"message","value":{"type":"string","collection":false,"data":null},"ref":false,"metadata":{"hidden":true,"displayed":false,"index":0}}}},"runtime":{},"comments":"Only continue if the list of user ID's is not empty. We don't want to be notifying Slack of session resets for @<> (i.e. nobody)."}},"pins":{}},{"joins":{},"address":"root:kernel:list:0.0.1:filterBy","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"4RgKOXiSt","branches":{},"node":{"key":"filterBy","data":{"name":"Filter"},"model":{"type":"method","_v":2,"key":"filterBy","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":300000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Filter","description":"Filter a list to include only those items that meet a specified condition."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true},"comparison":{"types":["string","number","Date","boolean","object","file"],"collection":"*"}},"data":{"8bq_W-MKga":{"id":"8bq_W-MKga","group":null,"key":"list","value":{"type":{"":{"type":"string","collection":false}},"collection":true,"data":[],"available":["*"],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"Aou1feSscC":{"id":"Aou1feSscC","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"==","available":[],"error":false},"required":true,"ref":false,"metadata":{"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"===","label":"equal and the same type"},{"value":"!==","label":"not equal or not the same type"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"index":1},"flags":"d"},"Z0oqH6Sq2G":{"id":"Z0oqH6Sq2G","group":null,"key":"path","value":{"type":"string","collection":false,"data":"details.reason","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"},"NLQTE4IFWO":{"id":"NLQTE4IFWO","group":null,"key":"comparison","value":{"type":"object","collection":true,"data":["asn","user_agent"],"available":["string","number","Date","boolean","object","file"],"error":false},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true}},"data":{"bktE6YaYIF":{"id":"bktE6YaYIF","group":null,"key":"list","value":{"type":"object","collection":true,"data":null,"available":["*"],"error":false},"ref":true,"metadata":{"index":0,"description":"","displayname":"changedAsnUa"},"_used":true}}},"runtime":{},"comments":"Filter on reason #2 to match a list of objects"}},"pins":{"bktE6YaYIF":{"lW7hDNZWL":[{"input":"4-ycaq6KiG","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:union","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"lW7hDNZWL","branches":{},"node":{"key":"union","data":{"name":"Union (Combine Unique) "},"model":{"type":"method","_v":2,"key":"union","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Union (Combine Unique) ","description":"Combine multiple lists into a single list of all of the unique values contained in any of the input lists."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":true}},"data":{"SBeDfMyta3":{"id":"SBeDfMyta3","group":null,"key":"list1","value":{"type":{"":{"type":"string","collection":false}},"collection":true,"data":[],"available":["*"],"error":false},"required":false,"ref":false,"metadata":{"displayname":"List 1","index":0},"flags":"d"},"4-ycaq6KiG":{"id":"4-ycaq6KiG","group":null,"key":"list2","value":{"type":"object","collection":true,"data":[],"available":["*"],"error":false},"required":false,"ref":false,"metadata":{"displayname":"List 2","index":1},"flags":"d"},"6Zdk7Wc-i":{"id":"6Zdk7Wc-i","group":null,"key":"list","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":true,"data":[],"available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"required":false,"ref":false,"metadata":{"index":2,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"union":{"types":["*"],"collection":true}},"data":{"kb35l0Phml":{"id":"kb35l0Phml","group":null,"key":"union","value":{"type":"object","collection":true,"data":null,"available":["*"],"error":false},"ref":true,"metadata":{"displayname":"matchedEntries","index":0,"description":""},"_used":true}}},"runtime":{},"comments":"This will merge (union) the two filtered lists together in the format required for the...\n\n"}},"pins":{"kb35l0Phml":{"yePxbFid3":[{"input":"H8JlYd7JQz","transform":null}]}}},{"joins":{},"address":"root:kernel:list:0.0.1:union","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"fJQRWPe4m","branches":{},"node":{"key":"union","data":{"name":"Union (Combine Unique)"},"model":{"type":"method","_v":2,"key":"union","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Union (Combine Unique)","description":"Combine multiple lists into a single list of all of the unique values contained in any of the input lists."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":true}},"data":{"uHO9A_ik-f":{"id":"uHO9A_ik-f","group":null,"key":"list1","value":{"type":"string","collection":true,"data":[],"available":["*"],"error":false},"required":false,"ref":false,"metadata":{"displayname":"List 1","index":0},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"union":{"types":["*"],"collection":true}},"data":{"h7gC5Xabpq":{"id":"h7gC5Xabpq","group":null,"key":"union","value":{"type":"string","collection":true,"data":[],"available":["*"],"error":false},"ref":true,"metadata":{"displayname":"uniqueAnomalousUsers","index":0,"description":""},"_used":true}}},"runtime":{},"comments":"Union the list of IDs to remove duplicates"}},"pins":{"h7gC5Xabpq":{"7GfJ_nj6m":[{"input":"uaa8YzmeDW","transform":null}],"e2kgBsdgz":[{"input":"IR5AwrX9Ri","transform":null}]}}},{"joins":{},"address":"root:channels:http:httpfunctions:1.0.16:post","parents":{"version":{"address":"root:channels:http:httpfunctions:1.0.16","key":"1.0.16","data":{"name":"1.0.16","id":714}},"channel":{"address":"root:channels:http:httpfunctions","key":"httpfunctions","data":{"name":"httpfunctions","id":72}}},"uuid":"LaNKzlpsK","branches":{},"node":{"key":"post","data":{"name":"Post"},"model":{"type":"method","_v":2,"key":"post","executable":true,"displayed":true,"async":true,"cooperative":false,"mirrored":false,"compat":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"flo","delay":[60000,180000],"retry":0,"retryCondition":"ratelimits","flo":"3784665f-8403-4176-946d-844579fc314c"}},"metadata":{"id":32595,"name":"Post","description":null},"meta":{},"config":"1f3f0d97-9cf8-4f80-84ce-4d98f15c174e","partnerChannelKeys":226,"inputs":{"extensible":false,"rules":{},"groupRules":{"Request":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"SJzcXTa1jl":{"id":"SJzcXTa1jl","group":"Request","key":"URL","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"https://slack.com/api/chat.postMessage","available":["string"]},"required":false,"ref":false,"metadata":{"index":0,"optional":false},"flags":"d"},"qhkmlEIUHp":{"id":"qhkmlEIUHp","group":"Request","key":"Query","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["string","object"]},"required":false,"ref":false,"metadata":{"index":1,"optional":false},"flags":"d"},"_VeScGyOy-":{"id":"_VeScGyOy-","group":"Request","key":"Headers","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":2,"optional":false},"flags":"d"},"NNnsIjfjbE":{"id":"NNnsIjfjbE","group":"Request","key":"Body","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string","object","Array"]},"required":false,"ref":false,"metadata":{"index":3,"optional":false},"flags":"d"},"XE-C-aUGj":{"id":"XE-C-aUGj","group":null,"key":"object","value":{"error":true,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":4,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"rules":{},"groupRules":{"Response":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"UXwPsL1Zsb":{"id":"UXwPsL1Zsb","group":"Response","key":"Status Code","value":{"error":false,"type":"number","collection":false,"data":0,"available":["number"]},"ref":false,"metadata":{"index":0}},"D8CJHh0RwO":{"id":"D8CJHh0RwO","group":"Response","key":"Headers","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":1}},"pvp6tYUVnM":{"id":"pvp6tYUVnM","group":"Response","key":"Body","value":{"error":false,"type":{"ok":{"type":"boolean","collection":false},"error":{"type":"string","collection":false}},"collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":2},"_used":true}}},"runtime":{},"display":{"configRef":"3075b418-02ed-4e44-9fea-e2aec7e39abd"},"comments":"Post a message to the admin/SOC Slack channel to notify about the successful execution of clearing sessions.","enableNewMetadata":true}},"pins":{"pvp6tYUVnM":{"csXD003NWjZ":[{"input":"iXSrR-1Aq2u","transform":null}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:throwIf","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"ZlI21PqDL","branches":{},"node":{"key":"throwIf","data":{"name":"Return Error If"},"model":{"type":"method","_v":2,"key":"throwIf","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"flo","delay":[60000,180000],"retry":0,"retryCondition":"ratelimits","flo":"3784665f-8403-4176-946d-844579fc314c"}},"metadata":{"id":null,"name":"Return Error If","description":"If a condition is true, throw an error and end the Flow."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"left-operand":{"types":["object","string","number","Date","boolean"]},"operator":{"types":["string"]},"right-operand":{"types":["object","string","number","Date","boolean"]},"*":{"types":["*"],"collection":"*"}},"data":{"M2fV-M_hoH":{"id":"M2fV-M_hoH","group":null,"key":"left-operand","value":{"type":"boolean","collection":false,"data":false,"available":["object","string","number","Date","boolean"],"error":false},"required":false,"ref":false,"metadata":{"index":0,"displayname":"value a"},"flags":"d"},"2I9yBPnqk3":{"id":"2I9yBPnqk3","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"=="},"required":false,"ref":false,"metadata":{"index":1,"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"displayname":"comparison"},"flags":"d"},"TVbBqVp8Bp":{"id":"TVbBqVp8Bp","group":null,"key":"right-operand","value":{"type":"boolean","collection":false,"data":false,"available":["object","string","number","Date","boolean"],"error":false},"required":false,"ref":false,"metadata":{"index":2,"displayname":"value b"},"flags":"d"},"9vtP_FkZE_":{"id":"9vtP_FkZE_","group":null,"key":"message","value":{"type":"string","collection":false,"data":"","available":["*"],"error":false},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"},"cVuUhGEJCw":{"id":"cVuUhGEJCw","group":null,"key":"statusCode","value":{"type":"number","collection":false,"data":null},"required":false,"ref":false,"metadata":{"index":4},"flags":"d"},"hBWqfhQyV":{"id":"hBWqfhQyV","group":null,"key":"object","value":{"error":true,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":5,"custom":true},"flags":"d"},"GOQp0dGwc":{"id":"GOQp0dGwc","group":null,"key":"input","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"required":false,"ref":false,"metadata":{"index":6,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:throwIf","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"G9HcqhDr7","branches":{},"node":{"key":"throwIf","data":{"name":"Return Error If"},"model":{"type":"method","_v":2,"key":"throwIf","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"flo","delay":[60000,180000],"retry":0,"retryCondition":"ratelimits","flo":"3784665f-8403-4176-946d-844579fc314c"}},"metadata":{"id":null,"name":"Return Error If","description":"If a condition is true, throw an error and end the Flow."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"left-operand":{"types":["object","string","number","Date","boolean"]},"operator":{"types":["string"]},"right-operand":{"types":["object","string","number","Date","boolean"]},"*":{"types":["*"],"collection":"*"}},"data":{"sNqUGv0olq":{"id":"sNqUGv0olq","group":null,"key":"left-operand","value":{"type":"boolean","collection":false,"data":false,"available":["object","string","number","Date","boolean"],"error":false},"required":false,"ref":false,"metadata":{"index":0,"displayname":"value a"},"flags":"d"},"G7oZyAfGjb":{"id":"G7oZyAfGjb","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"=="},"required":false,"ref":false,"metadata":{"index":1,"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"displayname":"comparison"},"flags":"d"},"A1QCPfZ1_V":{"id":"A1QCPfZ1_V","group":null,"key":"right-operand","value":{"type":"boolean","collection":false,"data":false,"available":["object","string","number","Date","boolean"],"error":false},"required":false,"ref":false,"metadata":{"index":2,"displayname":"value b"},"flags":"d"},"f-j7edgtWK":{"id":"f-j7edgtWK","group":null,"key":"message","value":{"type":"string","collection":false,"data":"","available":["*"],"error":false},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"},"V-J7e1EIP6":{"id":"V-J7e1EIP6","group":null,"key":"statusCode","value":{"type":"number","collection":false,"data":null},"required":false,"ref":false,"metadata":{"index":4},"flags":"d"},"CfRPlemwX":{"id":"CfRPlemwX","group":null,"key":"object","value":{"error":true,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":5,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{}}},"pins":{}},{"joins":{},"address":"root:channels:http:httpfunctions:1.0.16:post","parents":{"version":{"address":"root:channels:http:httpfunctions:1.0.16","key":"1.0.16","data":{"name":"1.0.16","id":714}},"channel":{"address":"root:channels:http:httpfunctions","key":"httpfunctions","data":{"name":"httpfunctions","id":72}}},"uuid":"uy-GEVSYl","branches":{},"node":{"key":"post","data":{"name":"Post"},"model":{"type":"method","_v":2,"key":"post","executable":true,"displayed":true,"async":true,"cooperative":false,"mirrored":false,"compat":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"flo","delay":[60000,180000],"retry":0,"retryCondition":"ratelimits","flo":"3784665f-8403-4176-946d-844579fc314c"}},"metadata":{"id":32595,"name":"Post","description":null},"meta":{},"config":"291eea2c-913d-4e89-a7ce-b271c1878855","partnerChannelKeys":226,"inputs":{"extensible":false,"rules":{},"groupRules":{"Request":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"ReDHhqcYiy":{"id":"ReDHhqcYiy","group":"Request","key":"URL","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"https://slack.com/api/admin.users.session.resetBulk","available":["string"]},"required":false,"ref":false,"metadata":{"index":0,"optional":false},"flags":"d"},"eX4txexsOG":{"id":"eX4txexsOG","group":"Request","key":"Query","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["string","object"]},"required":false,"ref":false,"metadata":{"index":1,"optional":false},"flags":"d"},"-3h97r9Jnu":{"id":"-3h97r9Jnu","group":"Request","key":"Headers","value":{"error":false,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":2,"optional":false},"flags":"d"},"hmqbO4cRuY":{"id":"hmqbO4cRuY","group":"Request","key":"Body","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string","object","Array"]},"required":false,"ref":false,"metadata":{"index":3,"optional":false},"flags":"d"},"nakjAQXvF":{"id":"nakjAQXvF","group":null,"key":"object","value":{"error":true,"proxy":false,"check":false,"type":"object","collection":false,"data":{},"available":["object"]},"required":false,"ref":false,"metadata":{"index":4,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"rules":{},"groupRules":{"Response":{"extensible":false,"reserved":{},"index":0,"type":"object"}},"data":{"kvjsmFVdsX":{"id":"kvjsmFVdsX","group":"Response","key":"Status Code","value":{"error":false,"type":"number","collection":false,"data":0,"available":["number"]},"ref":false,"metadata":{"index":0}},"Ete6iiUi1G":{"id":"Ete6iiUi1G","group":"Response","key":"Headers","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":1}},"-dOwVLf69A":{"id":"-dOwVLf69A","group":"Response","key":"Body","value":{"error":false,"type":"object","collection":false,"data":{},"available":["object"]},"ref":false,"metadata":{"index":2}}}},"runtime":{},"display":{"configRef":"6dbb51ac-6637-4547-ba2b-0e1e57f97962"},"comments":"https://api.slack.com/methods/admin.users.session.resetBulk#notices","enableNewMetadata":true}},"pins":{}},{"joins":{},"address":"root:kernel:list:0.0.1:filterBy","parents":{"version":{"address":"root:kernel:list:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:list","key":"list","data":{"name":"list"}}},"uuid":"niaIMAKyl","branches":{},"node":{"key":"filterBy","data":{"name":"Filter"},"model":{"type":"method","_v":2,"key":"filterBy","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":300000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Filter","description":"Filter a list to include only those items that meet a specified condition."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true},"comparison":{"types":["string","number","Date","boolean","object","file"],"collection":"*"}},"data":{"l1c-tuJTpm":{"id":"l1c-tuJTpm","group":null,"key":"list","value":{"type":"object","collection":true,"data":[],"available":["*"],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"B1kIlRbxWj":{"id":"B1kIlRbxWj","group":null,"key":"operator","value":{"type":"string","collection":false,"data":"==","available":[],"error":false},"required":true,"ref":false,"metadata":{"choices":[{"value":"==","label":"equal to"},{"value":"!=","label":"not equal"},{"value":">=","label":"greater than or equal"},{"value":"<=","label":"less than or equal"},{"value":">","label":"greater than"},{"value":"<","label":"less than"},{"value":"%","label":"a multiple of"},{"value":"in","label":"in"},{"value":"not in","label":"not in"},{"value":"has","label":"has key"},{"value":"doesn't have","label":"doesn't have key"},{"value":"===","label":"equal and the same type"},{"value":"!==","label":"not equal or not the same type"},{"value":"is empty","label":"is empty"},{"value":"is not empty","label":"is not empty"}],"index":1},"flags":"d"},"EXbZgdMjPa":{"id":"EXbZgdMjPa","group":null,"key":"path","value":{"type":"string","collection":false,"data":"details.reason","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"},"TXpvNiJhRW":{"id":"TXpvNiJhRW","group":null,"key":"comparison","value":{"type":"object","collection":true,"data":["ip_address","user_agent"],"available":["string","number","Date","boolean","object","file"],"error":false},"required":false,"ref":false,"metadata":{"index":3},"flags":"d"}}},"outputs":{"extensible":false,"rules":{"list":{"types":["*"],"collection":true}},"data":{"xL-XPNAXVV":{"id":"xL-XPNAXVV","group":null,"key":"list","value":{"type":"object","collection":true,"data":null,"available":["*"],"error":false},"ref":true,"metadata":{"index":0,"description":"","displayname":"changeIpUa"},"_used":true}}},"runtime":{},"comments":"Filter on reason #3 to match a list of objects"}},"pins":{"xL-XPNAXVV":{"lW7hDNZWL":[{"input":"6Zdk7Wc-i","transform":null}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"JTxCJmV_i","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Date & Time","markdown":"Adjusting the Subtract Date & Time card to the same frequency as the Scheduled Flow card.\n\nThe Time & Date card subtracts this interval from the current time for the purpose of formatting a request to the Slack API Audit API."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"CGqae-znD","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Set the frequency","markdown":"<-- click the clock icon to configure how often you want to run this report."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"OFVObv-hK","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Convert to EPOCH","markdown":"The next card converts the subtracted time to EPOCH, which is required for the URL parameters in the Slack Audit API"}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"v5PnOq4AF","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Format API URL","markdown":"The next card formats the API URL with the URL parameters Slack expects."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"sy7vm62ob","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Get anomaly events","markdown":"Perform an HTTP GET request to the Slack Audit API to return any anomaly events within the interval."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"KcE28LH3w","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Return Error If","markdown":"The flow will return an error if the request to the Slack Audit API is unsuccessful."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"k-a45Es1N","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Filtering on reasons","markdown":"There are several combinations of reasons why Slack might identify a session as anomalous. The next three cards filter them down to combinations of reasons of most interest. Adjust the reasons of interest according to your risk appetite."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"vgu06S5-5","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Bringing it back together...","markdown":"The next card will merge (\"union\") the filtered lists together in the format required for the Slack API call."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"VBREXP02s","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Pluck IDs","markdown":"The next card will fetch user IDs from the merged, filtered list to process."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"_QHz0WLuDno","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Deduplicate list of IDs","markdown":"The next card will merge (\"union\") the list of user IDs to remove duplicates."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"ARNyahIzO","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"List to text - Slack message","markdown":"The next card will link together the list of user IDs in a format  Slack uses to \"mention\" the users in the message sent to the Slack admin."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"6NHUIS_lE","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"List to text - Slack API call","markdown":"The next card will link together the list of user IDs in a format  Slack requires for the \"bulk reset\" API endpoint."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"xeZLIVjRO","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"End if list of users is empty","markdown":"We only want the flow to continue if the list of user IDs has an entry. Otherwise we notify Slack of session resets for @<> (i.e. nobody!) This could have unexpected results!"}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"_jQZWyO9a","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Compose POST body","markdown":"The next compose card constructs the body of body of the POST request to send to Slack, using the merged list of users."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"fc6tyEAVC","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Reset the user sessions (bulk)","markdown":"The Post request calls the Slack \"Bulk Session Reset\" API."}}},"pins":{}},{"joins":{},"address":"root:kernel:object:0.0.1:construct","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"k8kUXzKCU","branches":{},"node":{"key":"construct","data":{"name":"Construct"},"model":{"type":"method","_v":2,"key":"construct","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Construct","description":"Create an object from multiple inputs."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["*"],"collection":"*"}},"data":{"nCzDHQtca":{"id":"nCzDHQtca","group":null,"key":"Slack Channel ID","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"required":false,"ref":false,"metadata":{"index":0,"custom":true},"flags":"d"}}},"outputs":{"extensible":false,"data":{"DjgIkfJbNH":{"id":"DjgIkfJbNH","group":null,"key":"output","value":{"type":"object","collection":false,"data":{},"available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"notificationChannelId"},"_used":true}}},"runtime":{}}},"pins":{"DjgIkfJbNH":{"1YC0rTbY3":[{"input":"k2x57Qv5Y1","transform":{"DjgIkfJbNH":{"convert":"stringify","forceWrapArray":false,"dest":"DjgIkfJbNH"}}}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"CxbN_7NnY","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Insert Slack Channel ID","markdown":"The next step is to notify your Slack admins and/or security teams of the actions taken.\n\nYou first need to insert the Channel ID (for the Slack channel you want to notify) into the Construct card.\n\nYou can find the ID for any given channel in the Slack app: right-click on the channel and select Copy > Copy Link. The Channel ID is the string in the last part of the path, and usually starting with a C."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"x1D6As2Cx","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Compose Slack Message","markdown":"Compose the body of the Slack message we will send to admins."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"cx6OtN650","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Send message to admins","markdown":"Posts a message to the admin/SOC Slack channel to notify about the successful execution of clearing sessions using the Slack API.\n\nAlternatively, consider using the pre-built Slack Workflows connector."}}},"pins":{}},{"joins":{},"address":"root:kernel:control:0.0.1:comment","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"a0DU_9EH0","branches":{},"node":{"key":"comment","data":{"name":"Comment"},"model":{"type":"method","_v":2,"key":"comment","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Comment","description":"Leave a comment."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{}},"outputs":{"extensible":false,"data":{}},"runtime":{},"display":{},"comments":{"title":"Last minute error handling","markdown":"The last card returns an error if the Slack message fails to send."}}},"pins":{}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"A__qtcbhJ","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"PNXzqgsS21":{"id":"PNXzqgsS21","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"https://api.slack.com/audit/v1/logs?oldest={{{MstFxEKBL}}}&action=anomaly","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"7mZgew38ji":{"id":"7mZgew38ji","group":null,"key":"MstFxEKBL","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"}}},"outputs":{"extensible":false,"data":{"s2jTaHmPXq":{"id":"s2jTaHmPXq","group":null,"key":"output","value":{"type":"string","collection":false,"data":"","available":[],"error":false},"ref":false,"metadata":{"index":0,"description":"","displayname":"slackAuditSearchEndpoint"},"_used":true}}},"runtime":{}}},"pins":{"s2jTaHmPXq":{"zB4jB2p3e":[{"input":"gG018M90Qc","transform":null}]}}},{"joins":{},"address":"root:kernel:object:0.0.1:expand","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"BxGCaGYO4wW","branches":{},"node":{"key":"expand","data":{"name":"zB4jB2p3e"},"model":{"type":"method","_v":2,"key":"expand","executable":false,"displayed":false,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"zB4jB2p3e","description":"Pick a set of keys out of an object with lists of keys."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"PW_n5gzHfZO":{"id":"PW_n5gzHfZO","group":null,"key":"object","value":{"type":{"ok":{"type":"boolean","collection":false},"error":{"type":"string","collection":false},"entries":{"type":"object","collection":true}},"collection":false,"data":{},"available":[],"error":false},"required":true,"ref":false,"metadata":{"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"flags":"d"}}},"outputs":{"extensible":true,"groupRules":{"*":{"type":"object","reserved":{"key":{"types":["string"],"collection":"*"},"value":{"types":["*"],"collection":"*"}},"extensible":false}},"data":{"tKu7_eTxhIh":{"id":"tKu7_eTxhIh","group":"PV_vTD8qF0B","key":"key","value":{"error":false,"type":"string","collection":true,"data":["ok"],"available":[]},"ref":true,"metadata":{"path":["ok"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"}},"0oGeCdwWtTB":{"id":"0oGeCdwWtTB","group":"PV_vTD8qF0B","key":"value","value":{"error":false,"type":"boolean","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["ok"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"_used":true},"DnK6fMj_hY8":{"id":"DnK6fMj_hY8","group":"1WNOEOP_oNy","key":"key","value":{"error":false,"type":"string","collection":true,"data":["error"],"available":[]},"ref":true,"metadata":{"path":["error"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"}},"a5fFxaGpbdw":{"id":"a5fFxaGpbdw","group":"1WNOEOP_oNy","key":"value","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["error"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"_used":true},"75wTakPXRsk":{"id":"75wTakPXRsk","group":"FEybyWp1fRy","key":"key","value":{"error":false,"type":"string","collection":true,"data":["entries"],"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"}},"L3S3MpbaUbx":{"id":"L3S3MpbaUbx","group":"FEybyWp1fRy","key":"value","value":{"error":false,"type":"object","collection":true,"data":null,"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"_used":true},"eXK3VuTCmBd":{"id":"eXK3VuTCmBd","group":"Rz5JISwNmE-","key":"key","value":{"error":false,"type":"string","collection":true,"data":["entries"],"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"}},"XBClm8Ga6DH":{"id":"XBClm8Ga6DH","group":"Rz5JISwNmE-","key":"value","value":{"error":false,"type":"object","collection":true,"data":null,"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"_used":true},"7cJLHddpGyh":{"id":"7cJLHddpGyh","group":"1zNkqv1Flit","key":"key","value":{"error":false,"type":"string","collection":true,"data":["entries"],"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"}},"JZGY8MtQw-N":{"id":"JZGY8MtQw-N","group":"1zNkqv1Flit","key":"value","value":{"error":false,"type":"object","collection":true,"data":null,"available":[]},"ref":true,"metadata":{"path":["entries"],"srcMethodId":"zB4jB2p3e","srcOutputId":"h-Ahdm6H3h"},"_used":true}}},"runtime":{}}},"pins":{"0oGeCdwWtTB":{"G9HcqhDr7":[{"input":"sNqUGv0olq","transform":null}]},"a5fFxaGpbdw":{"G9HcqhDr7":[{"input":"f-j7edgtWK","transform":null}]},"L3S3MpbaUbx":{"guIKz-VZk":[{"input":"RdMYJhuxZ_","transform":null}]},"XBClm8Ga6DH":{"4RgKOXiSt":[{"input":"8bq_W-MKga","transform":null}]},"JZGY8MtQw-N":{"niaIMAKyl":[{"input":"l1c-tuJTpm","transform":null}]}}},{"joins":{},"address":"root:kernel:object:0.0.1:expand","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"csXD003NWjZ","branches":{},"node":{"key":"expand","data":{"name":"LaNKzlpsK"},"model":{"type":"method","_v":2,"key":"expand","executable":false,"displayed":false,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"LaNKzlpsK","description":"Pick a set of keys out of an object with lists of keys."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"iXSrR-1Aq2u":{"id":"iXSrR-1Aq2u","group":null,"key":"object","value":{"type":{"ok":{"type":"boolean","collection":false},"error":{"type":"string","collection":false}},"collection":false,"data":{},"available":[],"error":false},"required":true,"ref":false,"metadata":{"srcMethodId":"LaNKzlpsK","srcOutputId":"pvp6tYUVnM"},"flags":"d"}}},"outputs":{"extensible":true,"groupRules":{"*":{"type":"object","reserved":{"key":{"types":["string"],"collection":"*"},"value":{"types":["*"],"collection":"*"}},"extensible":false}},"data":{"a2-PP6gGSPI":{"id":"a2-PP6gGSPI","group":"10EKN11JRA2","key":"key","value":{"error":false,"type":"string","collection":true,"data":["ok"],"available":[]},"ref":true,"metadata":{"path":["ok"],"srcMethodId":"LaNKzlpsK","srcOutputId":"pvp6tYUVnM"}},"Jsuw6V217DZ":{"id":"Jsuw6V217DZ","group":"10EKN11JRA2","key":"value","value":{"error":false,"type":"boolean","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["ok"],"srcMethodId":"LaNKzlpsK","srcOutputId":"pvp6tYUVnM"},"_used":true},"V0OdqRsJuzc":{"id":"V0OdqRsJuzc","group":"clVGA9MYaJm","key":"key","value":{"error":false,"type":"string","collection":true,"data":["error"],"available":[]},"ref":true,"metadata":{"path":["error"],"srcMethodId":"LaNKzlpsK","srcOutputId":"pvp6tYUVnM"}},"QAvz3iIGrGq":{"id":"QAvz3iIGrGq","group":"clVGA9MYaJm","key":"value","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"path":["error"],"srcMethodId":"LaNKzlpsK","srcOutputId":"pvp6tYUVnM"},"_used":true}}},"runtime":{}}},"pins":{"Jsuw6V217DZ":{"ZlI21PqDL":[{"input":"M2fV-M_hoH","transform":null}]},"QAvz3iIGrGq":{"ZlI21PqDL":[{"input":"9vtP_FkZE_","transform":null}]}}}],"model":{},"orderings":{"yV-HUFbOjSi":["74bPGud3b","CGqae-znD"],"llWbIaqmvYd":["CGqae-znD","JTxCJmV_i"],"KNEhAeayB5W":["JTxCJmV_i","B_4HssIaq"],"8a7uGvBJSo6":["B_4HssIaq","OFVObv-hK"],"GvCMLxr3xF-":["OFVObv-hK","epJPvsJpw"],"M_cELJyLylX":["epJPvsJpw","v5PnOq4AF"],"wdQ2VXJWovN":["v5PnOq4AF","A__qtcbhJ"],"pNICaXBKWeU":["A__qtcbhJ","sy7vm62ob"],"6woPbPdPBQ6":["sy7vm62ob","zB4jB2p3e"],"18Mf2uFmLvb":["zB4jB2p3e","KcE28LH3w"],"0nfGO0PgHBk":["KcE28LH3w","G9HcqhDr7"],"2_Mvr08_rVx":["G9HcqhDr7","k-a45Es1N"],"gQ_1dAnX61d":["k-a45Es1N","guIKz-VZk"],"bzNqRqyP2z_":["guIKz-VZk","4RgKOXiSt"],"NDUFseT8ixR":["4RgKOXiSt","niaIMAKyl"],"cr978brPbtc":["niaIMAKyl","vgu06S5-5"],"M3yO4hgeF_j":["vgu06S5-5","lW7hDNZWL"],"XYrMXKsGctH":["lW7hDNZWL","VBREXP02s"],"BcFwGOz39A_":["VBREXP02s","yePxbFid3"],"kTPrC9AA2kS":["yePxbFid3","_QHz0WLuDno"],"N82y967dcAK":["_QHz0WLuDno","fJQRWPe4m"],"rNQ2B9qzGzU":["fJQRWPe4m","ARNyahIzO"],"kbUMTMPAiqt":["ARNyahIzO","7GfJ_nj6m"],"K6yMPDIRKQ8":["7GfJ_nj6m","6NHUIS_lE"],"29pQLQPlY7m":["6NHUIS_lE","e2kgBsdgz"],"Zbj_hDeraMm":["e2kgBsdgz","xeZLIVjRO"],"7mI9P3uqTjF":["xeZLIVjRO","9NkO2krcK"],"4XnfvaZtPxI":["9NkO2krcK","_jQZWyO9a"],"QSRnLvbfq0k":["_jQZWyO9a","MH4XLxp35"],"3ftBoaiTibL":["MH4XLxp35","fc6tyEAVC"],"g05sZ_l1rsw":["fc6tyEAVC","uy-GEVSYl"],"rOhVYzkQdU2":["uy-GEVSYl","CxbN_7NnY"],"yqxusO6MppX":["CxbN_7NnY","k8kUXzKCU"],"hqhl5ctgHrd":["k8kUXzKCU","x1D6As2Cx"],"LL9tvEz4YE-":["x1D6As2Cx","1YC0rTbY3"],"AAdV_gD1HfD":["1YC0rTbY3","cx6OtN650"],"b7QD01C9VlR":["cx6OtN650","LaNKzlpsK"],"AKzMFKYCl21":["LaNKzlpsK","a0DU_9EH0"],"127k-kXzv90":["a0DU_9EH0","ZlI21PqDL"],"oGgD5zKsO8p":["zB4jB2p3e","BxGCaGYO4wW"],"HjrHX_75BHD":["BxGCaGYO4wW","KcE28LH3w"],"fY-5H97h8PW":["BxGCaGYO4wW","BxGCaGYO4wW"],"cQuFlGjQC_O":["BxGCaGYO4wW","KcE28LH3w"],"LPIiTBp4daE":["BxGCaGYO4wW","BxGCaGYO4wW"],"XDCzkEgM4wp":["BxGCaGYO4wW","KcE28LH3w"],"YhnqrNaj3Us":["BxGCaGYO4wW","BxGCaGYO4wW"],"LNCGRiy3HAp":["BxGCaGYO4wW","KcE28LH3w"],"5KgBM28jPv0":["BxGCaGYO4wW","BxGCaGYO4wW"],"iDXoEkvdmOf":["BxGCaGYO4wW","KcE28LH3w"],"o2tq4B4-L8d":["BxGCaGYO4wW","BxGCaGYO4wW"],"-qKevrMEabo":["LaNKzlpsK","csXD003NWjZ"],"v5-lvaUKpqf":["csXD003NWjZ","a0DU_9EH0"],"U1pFFMtUAhC":["csXD003NWjZ","csXD003NWjZ"],"fedsSWsCIJN":["csXD003NWjZ","a0DU_9EH0"],"-oj-FrKFk8P":["csXD003NWjZ","csXD003NWjZ"]},"cron":{"seconds":"00","minutes":"*/15","hours":"*","dayOfTheMonth":"*","month":"*","dayOfTheWeek":"*","startDate":"","endDate":"","recurrence":0,"timeZone":"America/Los_Angeles"},"security_level":null,"log":true,"inheritLog":true,"scheduled":true,"group":"3c59e596-ec47-4299-ac14-587168dd34d9","templateName":null,"connector_method_meta":{"inputs":{},"outputs":{},"options":{}},"monitor_flo":false}}},"configs":{"1f3f0d97-9cf8-4f80-84ce-4d98f15c174e":{"id":"1f3f0d97-9cf8-4f80-84ce-4d98f15c174e","name":"slack_okta_overwatch","module":"httpfunctions","data":null},"291eea2c-913d-4e89-a7ce-b271c1878855":{"id":"291eea2c-913d-4e89-a7ce-b271c1878855","name":"slack_okta_dco_grid_app","module":"httpfunctions","data":null}},"tables":{},"groups":{"3c59e596-ec47-4299-ac14-587168dd34d9":{"id":"3c59e596-ec47-4299-ac14-587168dd34d9","data":{"name":"InvalidateAnomalousSlackSessions","description":"","media_uri":""}}}},"checksum":"d0fdfdf5ce902940f805b6c9f8f16e8a4e88e1451634c2cd967adb9f332877c4"}